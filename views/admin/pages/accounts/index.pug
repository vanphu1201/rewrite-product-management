extends ../../layouts/default.pug
block main
    h1(class="mb-4") Nhóm quyền

    .card.mb-3
        .card-header Danh sách tài khoản
        .card-body
            .row
                .col-8
                .col-4.text-right
                    a(
                        href=`/admin/accounts/create`
                        class="btn btn-outline-success"
                    ) + Thêm mới

            if (records)
                table(
                    class="table table-hover table-sm"
                )
                    thead
                        tr
                        th STT
                        th Avatar
                        th Họ tên
                        th Phân quyền
                        th Email
                        th Trạng thái
                        th Hành động

                    tbody
                        each item, index in records
                            tr
                            td #{index + 1}
                            td
                                img(
                                    src=item.avatar
                                    alt=item.fullName
                                    width="100px"
                                    height="auto"
                                )
                            td #{item.fullName}
                            td #{roleNames[index]}
                            td #{item.email}
                            td
                                if (item.status === "active")
                                    a(
                                        href="javascript:;"
                                        class="badge badge-success"
                                        data-status-account="active"
                                        data-id-account=item.id
                                    ) Hoạt động
                                else 
                                    a(
                                        href="javascript:;"
                                        class="badge badge-danger"
                                        data-status-account="inactive"
                                        data-id-account=item.id
                                    ) Dừng hoạt động
                            td
                                a(
                                    class="btn btn-secondary btn-sm"
                                    href=`/admin/accounts/detail/${item.id}`
                                ) Chi tiết
                                a(
                                    class="btn btn-warning btn-sm ml-1"
                                    href=`/admin/accounts/edit/${item.id}`
                                ) Sửa
                                button(
                                    class="btn btn-danger btn-sm ml-1"
                                    data-id-delete=item.id
                                ) Xóa
    form(
        form-change-status-account
        action="",
        method="post"
    )

    form(
        form-delete-account
        action="",
        method="post"
    )

    script(src="/admin/js/account.js") 

    
    