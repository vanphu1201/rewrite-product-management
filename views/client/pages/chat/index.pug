extends ../../layouts/default.pug
include ../../mixins/box-head.pug

block main
  .container.my-3
    .row
      .col-12
        +box-head("Chat")

    .row
        .col-12
            .chat(myId=user.id)
                //- .inner-head
                //- .inner-avatar EY
                //- .inner-name Em Yêu
                .inner-body
                    each chat in chats
                        div(class=`${chat.user_id==user.id?"inner-outgoing":"inner-incoming"}`)
                            if (chat.user_id!=user.id)
                                .inner-name #{chat.infoUser.fullName}
                            if(chat.content)
                                .inner-content
                                    | #{chat.content}
                            if(chat.images.length)
                                .inner-images
                                    each link in chat.images 
                                        img(src=link)

                    div(class="inner-list-typing" user-id=user.id)
                .inner-preview-images
                    div(
                        class="custom-file-container"
                        data-upload-id="upload-images"
                    )    

                .inner-foot
                    form(
                        class="inner-form"
                        action=""
                    )
                        input(
                            type="text"
                            placeholder="Nhập nội dung..."
                            name="content"
                        )
                        label(class='button-icon btn btn-light mx-2' for="file-upload-with-preview-upload-images") <i class="fa-regular fa-images"></i>
                        span(class='button-icon btn btn-light mx-2' button-icon) <i class="fa-regular fa-face-smile"></i>
                        button
                            i.fa-solid.fa-paper-plane


            div(class="tooltip" role="tooltip")
                emoji-picker.light